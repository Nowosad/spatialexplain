[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 spatialexplain authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/articles/An-introduction-to-spatial-explanations.html","id":"regression-model","dir":"Articles","previous_headings":"","what":"Regression model","title":"An introduction to spatial explanations","text":"","code":"rpart_model = rpart(temp ~ ., data = st_drop_geometry(temp_train)) rpart_model #> n= 195  #>  #> node), split, n, deviance, yval #>       * denotes terminal node #>  #>  1) root 195 1546.773000 15.101570   #>    2) lst_night< 7.545278 70  286.239700 12.218960   #>      4) dem>=1271.976 9   15.529640  8.157678 * #>      5) dem< 1271.976 61  100.362400 12.818160   #>       10) lst_day< 27.41322 52   52.454960 12.469420   #>         20) lst_night< 5.956942 35   21.516320 11.993630 * #>         21) lst_night>=5.956942 17    6.703209 13.448980 * #>       11) lst_day>=27.41322 9    5.042911 14.833110 * #>    3) lst_night>=7.545278 125  353.141300 16.715830   #>      6) lst_night< 10.0302 69   92.904980 15.557040   #>       12) lst_day< 25.98267 24   13.758720 14.412790 * #>       13) lst_day>=25.98267 45   30.963710 16.167310 * #>      7) lst_night>=10.0302 56   53.423460 18.143620 * regr_exp = explain(rpart_model,                    data = st_drop_geometry(temp_train)[-1],                    y = temp_train$temp) #> Preparation of a new explainer is initiated #>   -> model label       :  rpart  (  default  ) #>   -> data              :  195  rows  6  cols  #>   -> target variable   :  195  values  #>   -> predict function  :  yhat.rpart  will be used (  default  ) #>   -> predicted values  :  No value for predict function target column. (  default  ) #>   -> model_info        :  package rpart , ver. 4.1.23 , task regression (  default  )  #>   -> predicted values  :  numerical, min =  8.157678 , mean =  15.10157 , max =  18.14362   #>   -> residual function :  difference between y and yhat (  default  ) #>   -> residuals         :  numerical, min =  -3.09541 , mean =  1.512235e-15 , max =  2.473572   #>   A new explainer has been created! regr_pps1 = predict_spatial_parts(regr_exp, predictors, maxcell = 100) plot(regr_pps1)"},{"path":"/articles/An-introduction-to-spatial-explanations.html","id":"classification-model","dir":"Articles","previous_headings":"","what":"Classification model","title":"An introduction to spatial explanations","text":"","code":"temp_train$temp = cut(temp_train$temp,                       breaks = c(-Inf, 17, Inf), labels = c(\"cold\", \"hot\")) rpart_model_clas = rpart(temp ~ ., data = st_drop_geometry(temp_train)) rpart_model_clas #> n= 195  #>  #> node), split, n, loss, yval, (yprob) #>       * denotes terminal node #>  #> 1) root 195 57 cold (0.70769231 0.29230769)   #>   2) lst_night< 10.04327 140  8 cold (0.94285714 0.05714286) * #>   3) lst_night>=10.04327 55  6 hot (0.10909091 0.89090909) * clas_exp = explain(rpart_model_clas,                    data = st_drop_geometry(temp_train)[-1],                    y = temp_train$temp) #> Preparation of a new explainer is initiated #>   -> model label       :  rpart  (  default  ) #>   -> data              :  195  rows  6  cols  #>   -> target variable   :  195  values  #>   -> predict function  :  yhat.rpart  will be used (  default  ) #>   -> predicted values  :  No value for predict function target column. (  default  ) #>   -> model_info        :  package rpart , ver. 4.1.23 , task classification (  default  )  #>   -> model_info        :  Model info detected classification task but 'y' is a factor .  (  WARNING  ) #>   -> model_info        :  By deafult classification tasks supports only numercical 'y' parameter.  #>   -> model_info        :  Consider changing to numerical vector with 0 and 1 values. #>   -> model_info        :  Otherwise I will not be able to calculate residuals or loss function. #>   -> predicted values  :  numerical, min =  0.05714286 , mean =  0.2923077 , max =  0.8909091   #>   -> residual function :  difference between y and yhat (  default  ) #> Warning in Ops.factor(y, predict_function(model, data)): '-' not meaningful for #> factors #>   -> residuals         :  numerical, min =  NA , mean =  NA , max =  NA   #>   A new explainer has been created! clas_pps1 = predict_spatial_parts(clas_exp, predictors, maxcell = 100) plot(clas_pps1)"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jakub Nowosad. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Nowosad J (2024). spatialexplain: Explore Explain Spatial Machine Learning Models. R package version 0.0.1.","code":"@Manual{,   title = {spatialexplain: Explore and Explain Spatial Machine Learning Models},   author = {Jakub Nowosad},   year = {2024},   note = {R package version 0.0.1}, }"},{"path":"/index.html","id":"spatialexplain","dir":"","previous_headings":"","what":"Explore and Explain Spatial Machine Learning Models","title":"Explore and Explain Spatial Machine Learning Models","text":"goal spatialexplain provide model agnostic tools exploring explaining spatial machine learning models. based DALEX package uses terra package spatial raster data handling.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Explore and Explain Spatial Machine Learning Models","text":"can install development version spatialexplain GitHub :","code":"# install.packages(\"pak\") pak::pak(\"Nowosad/spatialexplain\")"},{"path":"/reference/predict_spatial_parts.html","id":null,"dir":"Reference","previous_headings":"","what":"Predict spatial parts — predict_spatial_parts","title":"Predict spatial parts — predict_spatial_parts","text":"function calculates attributions model (Break , SHAP, Oscillations explanations) observation raster. Model predictions decomposed parts attributed particular variables, attributions assigned corresponding cells raster. See documentation DALEX::predict_parts() function details.","code":""},{"path":"/reference/predict_spatial_parts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predict spatial parts — predict_spatial_parts","text":"","code":"predict_spatial_parts(   explainer,   raster_obs,   maxcell = 1000,   ...,   N = if (substr(type, 1, 4) == \"osci\") 500 else NULL,   type = \"break_down\" )"},{"path":"/reference/predict_spatial_parts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Predict spatial parts — predict_spatial_parts","text":"explainer model explained, preprocessed DALEX::explain() function raster_obs raster object observations explained (predictors used model) maxcell maximum number cells raster. number cells raster greater maxcell, function sample maxcell cells raster. default 1000 ... parameters passed iBreakDown::break_down() N maximum number observations used calculation attributions. default NULL (use ) 500 (oscillations) type type variable attributions. Either shap, oscillations, oscillations_uni, oscillations_emp, break_down break_down_interactions","code":""},{"path":"/reference/predict_spatial_parts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Predict spatial parts — predict_spatial_parts","text":"raster object dimensions raster_obs. number layers equal number variables model number variables model plus one type shap.","code":""},{"path":"/reference/predict_spatial_parts.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Predict spatial parts — predict_spatial_parts","text":"Lundberg, S. (2017). unified approach interpreting model predictions. arXiv preprint arXiv:1705.07874. Staniak, M., & Biecek, P. (2018). Explanations model predictions live breakDown packages. arXiv preprint arXiv:1804.01955. Biecek, P., & Burzykowski, T. (2021). Explanatory model analysis: explore, explain, examine predictive models. Chapman Hall/CRC.","code":""},{"path":"/reference/predict_spatial_parts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Predict spatial parts — predict_spatial_parts","text":"","code":"library(terra) #> terra 1.7.83 predictors_agg = rast(system.file(\"raster/predictors_agg.tif\", package = \"spatialexplain\")) data(\"regr_exp\", package = \"spatialexplain\") regr_psp_bd = predict_spatial_parts(regr_exp, predictors_agg, maxcell = 100) plot(regr_psp_bd)"},{"path":"/reference/regr_exp.html","id":null,"dir":"Reference","previous_headings":"","what":"An example of a regression model explainer — regr_exp","title":"An example of a regression model explainer — regr_exp","text":"example model explainer (created using DALEX package) regression problem.","code":""},{"path":"/reference/regr_exp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"An example of a regression model explainer — regr_exp","text":"","code":"data(regr_exp)"},{"path":"/reference/regr_exp.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"An example of a regression model explainer — regr_exp","text":"list containing model related information.","code":""},{"path":"/reference/spatialexplain-package.html","id":null,"dir":"Reference","previous_headings":"","what":"spatialexplain: Explore and Explain Spatial Machine Learning Models — spatialexplain-package","title":"spatialexplain: Explore and Explain Spatial Machine Learning Models — spatialexplain-package","text":"Provides model agnostic tools exploring explaining spatial machine learning models. based 'DALEX' package uses 'terra' package spatial raster data handling.","code":""},{"path":"/reference/spatialexplain-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"spatialexplain: Explore and Explain Spatial Machine Learning Models — spatialexplain-package","text":"Maintainer: Jakub Nowosad nowosad.jakub@gmail.com (ORCID)","code":""}]
